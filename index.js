(()=>{"use strict";(()=>{var e={capsLock:!1,lang:"en"};function t(t){var a=document.querySelector(".keyboard__keys");a.innerHTML="";var n=document.createDocumentFragment(),c=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ShiftRight","ArrowUp","ControlLeft","AltLeft","Space","AltRight","ControlRight","ArrowLeft","ArrowDown","ArrowRight"];t.forEach((function(t,a){var r=document.createElement("button");r.dataset.id=c[a];var o=-1!==["Backspace","Backslash","Enter","ArrowUp"].indexOf(c[a]);switch(r.setAttribute("type","button"),r.classList.add("keyboard__key"),t){case"Backspace":case"Enter":case"Shift":r.classList.add("keyboard__key--big"),r.innerText=t;break;case"Caps":r.classList.add("keyboard__key--big"),r.classList.add("keyboard__key--activebutonn"),r.innerText=t,e.capsLock&&r.classList.add("keyboard__key--active");break;case"space":r.classList.add("keyboard__key--space");break;case"Shift":case"Alt":case"Сtrl":r.innerText=t;break;default:e.capsLock?r.innerText=t.toUpperCase():r.innerText=t}n.appendChild(r),o&&n.append(document.createElement("br"))})),a.append(n)}!function(){var e=document.createElement("header");e.classList.add("header");var t=document.createElement("h1"),a=document.body,n=document.createElement("div");n.classList.add("wraper"),a.append(n),n.append(e),t.innerText="Виртуальная клавиатура",e.append(t);var c=document.createElement("main");n.append(c);var r=document.createElement("p");r.classList.add("text"),r.innerText="Клавиатура создана в операционной системе Windows. Для переключения языка используйте комбинацию: левыe ctrl + shift",c.append(r);var o=document.createElement("textarea");o.classList.add("textarea"),c.append(o);var s=document.createElement("div");s.classList.add("keyboard"),c.append(s);var d=document.createElement("div");d.classList.add("keyboard__keys"),s.append(d)}();var a=document.querySelector(".textarea"),n=document.querySelector(".keyboard__keys"),c=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Caps","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","?","Shift","▲","Ctrl","Alt","space","Alt","Ctr","◄","▼","►"],r=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Caps","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","Shift","▲","Ctrl","Alt","space","Alt","Ctr","◄","▼","►"];window.addEventListener("DOMContentLoaded",t(c));var o=document.querySelectorAll(".keyboard__key");n.addEventListener("click",(function(t){var a=document.querySelector(".textarea"),n=t.target;if(0!=n.textContent.length)if(1!=n.textContent.length)if("Enter"!=n.textContent)if("Tab"!=n.textContent)if("Backspace"!=n.textContent)if("Caps"!=n.textContent);else{var c=document.querySelectorAll(".keyboard__key");e.capsLock=!e.capsLock,n.classList.toggle("keyboard__key--active");for(var r=0;r<c.length;r++)1===c[r].innerText.length&&(e.capsLock?c[r].textContent=c[r].textContent.toUpperCase():c[r].textContent=c[r].textContent.toLowerCase())}else a.value=a.value.slice(0,a.value.length-1);else a.value+="  ";else a.value+="\n";else a.value+=n.textContent;else a.value+=" "})),document.addEventListener("keydown",(function(e){document.querySelector("[data-id=".concat(e.code,"]")).classList.add("keyboard__key--dark")})),document.addEventListener("keyup",(function(t){var n=document.querySelector("[data-id=".concat(t.code,"]"));switch(n.classList.remove("keyboard__key--dark"),t.code){case"CapsLock":t.preventDefault(),e.capsLock=!e.capsLock,n.classList.toggle("keyboard__key--active");for(var c=0;c<o.length;c++)1===o[c].innerText.length&&(e.capsLock?o[c].textContent=o[c].textContent.toUpperCase():o[c].textContent=o[c].textContent.toLowerCase());break;case"Backspace":t.preventDefault(),a.value=a.value.slice(0,a.textContent.length-1);break;case"Tab":t.preventDefault(),a.value+=" ";break;case"ShiftLeft":case"ShiftRight":case"ControlLeft":case"AltLeft":case"AltRight":case"ControlRight":t.preventDefault();break;case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":case"Enter":break;default:a.value+=n.textContent}})),document.addEventListener("keydown",(function(a){"ControlLeft"==a.code&&("en"===e.lang?(e.lang="ru",t(r)):(e.lang="en",t(c)))})),window.addEventListener("beforeunload",(function(){localStorage.setItem("lang",e.lang)})),window.addEventListener("load",(function(){localStorage.getItem("lang")&&(e.lang=localStorage.getItem("lang"),"en"==e.lang?(console.log(e.lang),t(c)):"ru"==e.lang&&(console.log(e.lang),t(r)))}))})()})();