(()=>{"use strict";(()=>{var e={capsLock:!1,lang:"en"};function t(t){var a=document.querySelector(".keyboard__keys");a.innerHTML="";var n=document.createDocumentFragment(),r=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ShiftRight","ArrowUp","ControlLeft","AltLeft","Space","AltRight","ControlRight","ArrowLeft","ArrowDown","ArrowRight"];t.forEach((function(t,a){var c=document.createElement("button");c.dataset.id=r[a];var o=-1!==["Backspace","Backslash","Enter","ArrowUp"].indexOf(r[a]);switch(c.setAttribute("type","button"),c.classList.add("keyboard__key"),t){case"Backspace":case"Enter":case"Shift":c.classList.add("keyboard__key--big"),c.innerText=t;break;case"Caps":c.classList.add("keyboard__key--big"),c.classList.add("keyboard__key--activebutonn"),c.innerText=t,e.capsLock&&c.classList.add("keyboard__key--active");break;case"space":c.classList.add("keyboard__key--space");break;case"Shift":case"Alt":case"Сtrl":c.innerText=t;break;default:e.capsLock?c.innerText=t.toUpperCase():c.innerText=t}n.appendChild(c),o&&n.append(document.createElement("br"))})),a.append(n)}!function(){var e=document.createElement("header");e.classList.add("header");var t=document.createElement("h1"),a=document.body,n=document.createElement("div");n.classList.add("wraper"),a.append(n),n.append(e),t.innerText="Виртуальная клавиатура",e.append(t);var r=document.createElement("main");n.append(r);var c=document.createElement("p");c.classList.add("text"),c.innerText="Клавиатура создана в операционной системе Windows. Для переключения языка используйте комбинацию: левыe ctrl + shift",r.append(c);var o=document.createElement("textarea");o.classList.add("textarea"),r.append(o);var s=document.createElement("div");s.classList.add("keyboard"),r.append(s);var d=document.createElement("div");d.classList.add("keyboard__keys"),s.append(d)}();var a=document.querySelector(".textarea"),n=document.querySelector(".keyboard__keys"),r=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Caps","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","?","Shift","▲","Ctrl","Alt","space","Alt","Ctr","◄","▼","►"],c=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Caps","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","Shift","▲","Ctrl","Alt","space","Alt","Ctr","◄","▼","►"];window.addEventListener("DOMContentLoaded",t(r)),document.querySelectorAll(".keyboard__key"),n.addEventListener("click",(function(t){var a=document.querySelector(".textarea"),n=t.target;if(0!=n.textContent.length)if(1!=n.textContent.length)if("Enter"!=n.textContent)if("Tab"!=n.textContent)if("Backspace"!=n.textContent)if("Caps"!=n.textContent);else{var r=document.querySelectorAll(".keyboard__key");e.capsLock=!e.capsLock,n.classList.toggle("keyboard__key--active");for(var c=0;c<r.length;c++)1===r[c].innerText.length&&(e.capsLock?r[c].textContent=r[c].textContent.toUpperCase():r[c].textContent=r[c].textContent.toLowerCase())}else a.value=a.value.slice(0,a.value.length-1);else a.value+="  ";else a.value+="\n";else a.value+=n.textContent;else a.value+=" "})),document.addEventListener("keydown",(function(e){document.querySelector("[data-id=".concat(e.code,"]")).classList.add("keyboard__key--dark")})),document.addEventListener("keyup",(function(n){var o=document.querySelector("[data-id=".concat(n.code,"]"));if(o.classList.remove("keyboard__key--dark"),"ControlLeft"!=n.code)switch(n.code){case"CapsLock":n.preventDefault(),e.capsLock=!e.capsLock,o.classList.toggle("keyboard__key--active");for(var s=document.querySelectorAll(".keyboard__key"),d=0;d<s.length;d++)1===s[d].innerText.length&&(e.capsLock?s[d].textContent=s[d].textContent.toUpperCase():s[d].textContent=s[d].textContent.toLowerCase());break;case"Backspace":n.preventDefault(),a.value=a.value.slice(0,a.textContent.length-1);break;case"Tab":n.preventDefault(),a.value+=" ";break;case"ShiftLeft":case"ShiftRight":case"ControlLeft":case"AltLeft":case"AltRight":case"ControlRight":n.preventDefault();break;case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":case"Enter":break;default:a.value+=o.textContent}else"en"===e.lang?(e.lang="ru",t(c)):(e.lang="en",t(r))})),window.addEventListener("beforeunload",(function(){localStorage.setItem("lang",e.lang)})),window.addEventListener("load",(function(){localStorage.getItem("lang")&&(e.lang=localStorage.getItem("lang"),"en"==e.lang?t(r):"ru"==e.lang&&t(c))}))})()})();