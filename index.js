(()=>{"use strict";(()=>{var e={Backquote:{ru:"ё",en:"`",ruShift:"Ё",enShift:"~"},Digit1:{ru:"1",en:"1",ruShift:"!",enShift:"!"},Digit2:{ru:"2",en:"2",ruShift:'"',enShift:"@"},Digit3:{ru:"3",en:"3",ruShift:"№",enShift:"#"},Digit4:{ru:"4",en:"4",ruShift:";",enShift:"$"},Digit5:{ru:"5",en:"5",ruShift:"%",enShift:"%"},Digit6:{ru:"6",en:"6",ruShift:":",enShift:"^"},Digit7:{ru:"7",en:"7",ruShift:"?",enShift:"&"},Digit8:{ru:"8",en:"8",ruShift:"*",enShift:"*"},Digit9:{ru:"9",en:"9",ruShift:"(",enShift:"("},Digit0:{ru:"0",en:"0",ruShift:")",enShift:")"},Minus:{ru:"-",en:"-",ruShift:"_",enShift:"_"},Equal:{ru:"=",en:"=",ruShift:"+",enShift:"+"},BracketLeft:{ru:"х",en:"[",ruShift:"Х",enShift:"{"},BracketRight:{ru:"ъ",en:"]",ruShift:"Ъ",enShift:"}"},Backslash:{ru:"\\",en:"\\",ruShift:"/",enShift:"|"},Semicolon:{ru:"ж",en:";",ruShift:"Ж",enShift:":"},Quote:{ru:"э",en:"'",ruShift:"Э",enShift:'"'},Comma:{ru:"б",en:",",ruShift:"Б",enShift:"<"},Period:{ru:"ю",en:".",ruShift:"Ю",enShift:">"},Slash:{ru:".",en:"/",ruShift:",",enShift:"?"}},t=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Caps","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","?","Shift","Ctrl","Alt","space","Alt","Ctr"],a=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Caps","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","Shift","Ctrl","Alt","space","Alt","Ctr"],n=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ShiftRight","ControlLeft","AltLeft","Space","AltRight","ControlRight"],i={capsLock:!1,lang:"en"},r=new Set;function d(e){var t=document.querySelector(".keyboard__keys");t.innerHTML="";var a=document.createDocumentFragment();e.forEach((function(e,t){var r=document.createElement("button");r.dataset.id=n[t];var d=-1!==["Backspace","Backslash","Enter","ShiftRight"].indexOf(n[t]);switch(r.classList.add("keyboard__key"),e){case"Backspace":case"Enter":case"Shift":r.classList.add("keyboard__key--big"),r.innerText=e;break;case"Caps":r.classList.add("keyboard__key--big"),r.classList.add("keyboard__key--activebutonn"),r.innerText=e,i.capsLock&&r.classList.add("keyboard__key--active");break;case"space":r.classList.add("keyboard__key--space");break;case"Alt":case"Сtrl":r.innerText=e;break;default:i.capsLock?r.innerText=e.toUpperCase():r.innerText=e}a.appendChild(r),d&&a.append(document.createElement("br"))})),t.append(a)}function c(n){var c=document.querySelector(".textarea");r.add(n.dataset.id),"Space"!==n.dataset.id?"Enter"!==n.dataset.id?"Tab"!==n.dataset.id?"Backspace"!==n.dataset.id?1!==n.textContent.length?"CapsLock"!==n.dataset.id?r.has("ControlLeft")&&r.has("ShiftLeft")?"en"===i.lang?(i.lang="ru",d(a)):(i.lang="en",d(t)):(r.has("ShiftRight")||r.has("ShiftLeft"))&&document.querySelectorAll(".keyboard__key").forEach((function(t){t.dataset.id in e?t.textContent="en"===i.lang?e[t.dataset.id].enShift:e[t.dataset.id].ruShift:1===t.innerText.length&&(t.textContent=i.capsLock?t.textContent.toLowerCase():t.textContent.toUpperCase())})):function(e){var t=document.querySelectorAll(".keyboard__key");i.capsLock=!i.capsLock,e.classList.toggle("keyboard__key--active"),t.forEach((function(e){1===e.innerText.length&&(i.capsLock?e.textContent=e.textContent.toUpperCase():e.textContent=e.textContent.toLowerCase())}))}(n):c.value+=n.textContent:c.value=c.value.slice(0,c.value.length-1):c.value+="  ":c.value+="\n":c.value+=" "}function o(){"en"===i.lang?d(t):"ru"===i.lang&&d(a)}!function(){var e=document.createElement("header");e.classList.add("header");var t=document.createElement("h1"),a=document.body,n=document.createElement("div");n.classList.add("wraper"),a.append(n),n.append(e),t.innerText="Виртуальная клавиатура",e.append(t);var i=document.createElement("main");n.append(i);var r=document.createElement("p");r.classList.add("text"),r.innerText="Клавиатура создана в операционной системе Windows. Для переключения языка используйте комбинацию: левыe ctrl + shift",i.append(r);var d=document.createElement("textarea");d.classList.add("textarea"),d.placeholder="Тут будет текст",i.append(d);var c=document.createElement("div");c.classList.add("keyboard"),i.append(c);var o=document.createElement("div");o.classList.add("keyboard__keys"),c.append(o)}();var s=document.querySelector(".keyboard__keys");window.addEventListener("DOMContentLoaded",d(t)),s.addEventListener("mousedown",(function(e){c(e.target)})),s.addEventListener("mouseup",(function(e){var t=e.target;r.delete(t.dataset.id),"ShiftRight"!==t.dataset.id&&"ShiftLeft"!==t.dataset.id||o()})),document.addEventListener("keydown",(function(e){var t=document.querySelector("[data-id=".concat(e.code,"]"));t&&(t.classList.add("keyboard__key--dark"),r.add(e.code),e.preventDefault(),c(t))})),document.addEventListener("keyup",(function(e){var t=document.querySelector("[data-id=".concat(e.code,"]"));t&&(t.classList.remove("keyboard__key--dark"),r.delete(e.code),"ShiftRight"!==e.code&&"ShiftLeft"!==e.code||o())})),window.addEventListener("beforeunload",(function(){localStorage.setItem("lang",i.lang)})),window.addEventListener("load",(function(){localStorage.getItem("lang")&&(i.lang=localStorage.getItem("lang"),"en"===i.lang?d(t):"ru"===i.lang&&d(a))}))})()})();
//# sourceMappingURL=index.js.map